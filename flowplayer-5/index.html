<!doctype html>

<head>

   <!-- player skin -->
   <link rel="stylesheet" href="skin/minimalist.css">

   <!-- site specific styling -->
   <style>
     body { text-align: center;}
     .player { width: 40%; }
   </style>

   <!-- flowplayer depends on jQuery 1.7.1+ (for now) -->
   <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>

   <!-- include flowplayer -->
   <script src="flowplayer.js"></script>

</head>

<body>

  <h3>Cuepoints: 2, 5, 15, 30</h3>

  <!-- the player -->
  <div id="main-video-player" class="player" data-rtmp="rtmp://rtmp.flowplayer.org/cfx/st/" data-ratio="0.5625" data-qualities="216p,360p,720p,1080p" data-default-quality="1080p">
    <video autoplay>
      <source type="video/webm" src="//drive.flowplayer.org/217795/65380-ChristophEngel15040201MAINWebVersion22062015.webm">
      <source type="video/mp4" src="//drive.flowplayer.org/217795/65380-ChristophEngel15040201MAINWebVersion22062015.mp4">
      <source type="video/flash" src="mp4:217795/65380-ChristophEngel15040201MAINWebVersion22062015.mp4">
    </video>
  </div>

  <script>
  // run script after document is ready
  window.addEventListener('load', function() {

    var player = $("#main-video-player");

    // Select the video container
    player.flowplayer({
      cuepoints: [2,5,15,30]
    });

    // Bind cuepoint event
    player.bind("cuepoint", function(e, api, cuepoint) {
      console.log('Cuepoint event triggered');
      console.log(cuepoint);
      console.log('------------------------')
    });

    // Make the api variable global
    window.api = flowplayer();

  });
  </script>

</body>
